```jsx
import { useState, useEffect } from 'react';

const productsData = [
  {
    id: 1,
    name: 'Vela Cappuccino',
    images: ['Vela_Cappuccino'],
    weight: '140g',
    price: 65,
    scent: 'Cappuccino',
    color: 'Fixo'
  },
  {
    id: 2,
    name: 'Vela Melancia',
    images: ['Vela_Melancia'],
    weightOptions: [
      { value: '100g', price: 45 },
      { value: '180g', price: 50 }
    ],
    scent: 'Melancia',
    color: 'Fixo'
  },
  {
    id: 3,
    name: 'Vela Love',
    images: ['Vela_Love_1', 'Vela_Love_2', 'Vela_Love_3'],
    weight: '110g',
    price: 40,
    scentOptions: [
      'Algodão', 'Baunilha', 'Bergamota', 'Café com Chocolate', 'Canela',
      'Cappuccino', 'Capim Limão', 'Cassis e Hibisco', 'Cereja e Avelã',
      'Chá Verde', 'Flor de Cerejeira', 'Folhas de Figo', 'Lavanda Francesa',
      'Melancia', 'Morango', 'Mousse de Maracujá', 'Oceano', 'Pistache',
      'Rosas', 'Zimbro e Madeira Guaiac'
    ],
    colorOptions: ['Azul', 'Rosa', 'Amarelo', 'Branco', 'Laranja']
  },
  {
    id: 4,
    name: 'Vela Recordação',
    images: ['Vela_Recordacao_1', 'Vela_Recordacao_2', 'Vela_Recordacao_3'],
    weight: '80g',
    basePrice: 30,
    discountPrice: 25,
    scentOptions: [
      'Algodão', 'Baunilha', 'Bergamota', 'Café com Chocolate', 'Canela',
      'Cappuccino', 'Capim Limão', 'Cassis e Hibisco', 'Cereja e Avelã',
      'Chá Verde', 'Flor de Cerejeira', 'Folhas de Figo', 'Lavanda Francesa',
      'Melancia', 'Morango', 'Mousse de Maracujá', 'Oceano', 'Pistache',
      'Rosas', 'Zimbro e Madeira Guaiac'
    ]
  }
];

export default function App() {
  const [showWelcome, setShowWelcome] = useState(true);
  const [cart, setCart] = useState([]);
  const [selectedProduct, setSelectedProduct] = useState(null);
  
  useEffect(() => {
    const timer = setTimeout(() => setShowWelcome(false), 5000);
    return () => clearTimeout(timer);
  }, []);

  const handleAddToCart = (product, quantity, selectedOptions) => {
    const existingItem = cart.find(item => 
      item.id === product.id &&
      JSON.stringify(item.options) === JSON.stringify(selectedOptions)
    );

    if (existingItem) {
      const updatedCart = cart.map(item =>
        item.id === product.id &&
        JSON.stringify(item.options) === JSON.stringify(selectedOptions)
          ? { ...item, quantity: item.quantity + quantity }
          : item
      );
      setCart(updatedCart);
    } else {
      setCart([...cart, { ...product, quantity, options: selectedOptions }]);
    }
  };

  const calculateTotal = () => {
    return cart.reduce((total, item) => {
      if (item.id === 4) {
        const recordacaoCount = cart.filter(i => i.id === 4).reduce((sum, i) => sum + i.quantity, 0);
        const price = recordacaoCount >= 2 ? item.discountPrice : item.basePrice;
        return total + (price * item.quantity);
      }
      return total + (item.price * item.quantity);
    }, 0);
  };

  const generateWhatsAppMessage = () => {
    const items = cart.map(item => 
      `${item.quantity}x ${item.name} - R$${item.id === 4 ? (cart.filter(i => i.id === 4).reduce((sum, i) => sum + i.quantity, 0) >= 2 ? item.discountPrice : item.basePrice) : item.price} cada`
    ).join('\n');
    
    return `Olá! Gostaria de fazer um pedido:\n\n${items}\n\nTotal: R$${calculateTotal()}${selectedProduct ? `\n\nProduto em visualização: ${selectedProduct.name}` : ''}`;
  };

  return (
    <div className="min-h-screen bg-blue-50 font-sans">
      {/* Welcome Modal */}
      {showWelcome && (
        <div className="fixed inset-0 bg-white bg-opacity-95 flex flex-col items-center justify-center p-4">
          <div className="max-w-md text-center space-y-4">
            <h1 className="text-2xl font-semibold text-blue-600">Bem-vindo à Brilho Alado!</h1>
            <p className="text-gray-700">
              Nossas velas artesanais são feitas com carinho e podem ter pequenas variações únicas.
              Alguns produtos permitem personalização de cor, essência e tamanho.
            </p>
            <button 
              onClick={() => setShowWelcome(false)}
              className="bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600 transition"
            >
              Começar
            </button>
          </div>
        </div>
      )}

      {/* Main Content */}
      <div className="container mx-auto p-4 pt-20">
        <header className="mb-8 text-center">
          <h1 className="text-3xl font-bold text-blue-800">Catálogo de Velas Aromáticas</h1>
          <p className="text-blue-600">Produtos 100% artesanais com essências exclusivas</p>
        </header>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
          {productsData.map(product => (
            <div key={product.id} className="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition">
              <div className="relative">
                {product.images.length > 1 ? (
                  <div className="flex overflow-x-auto snap-x">
                    {product.images.map((img, index) => (
                      <img
                        key={index}
                        src={`https://placehold.co/400x300/${product.colorOptions ? product.colorOptions[index % product.colorOptions.length].toLowerCase().replace(' ', '') : 'blue'}/FFFFFF.png?text=${product.name}`}
                        alt={product.name}
                        className="w-full h-48 object-cover snap-center"
                      />
                    ))}
                  </div>
                ) : (
                  <img
                    src={`https://placehold.co/400x300/${product.color || 'blue'}/FFFFFF.png?text=${product.name}`}
                    alt={product.name}
                    className="w-full h-48 object-cover"
                  />
                )}
              </div>

              <div className="p-4 space-y-2">
                <h3 className="font-semibold text-blue-800">{product.name}</h3>
                <p className="text-sm text-gray-600">
                  {product.weightOptions ? (
                    <>
                      Peso: 
                      {product.weightOptions.map(option => (
                        <span key={option.value} className="ml-1">
                          {option.value} (R${option.price})
                        </span>
                      ))}
                    </>
                  ) : (
                    `Peso: ${product.weight}`
                  )}
                </p>
                <p>Essência: {product.scent || 'Selecione'}</p>
                <p>Cor: {product.color || 'Selecione'}</p>
                <div className="flex justify-between items-center">
                  <button
                    onClick={() => setSelectedProduct(product)}
                    className="bg-blue-500 text-white px-3 py-1 rounded-full text-sm hover:bg-blue-600 transition"
                  >
                    Ver detalhes
                  </button>
                  <span className="font-bold text-blue-800">
                    {product.basePrice ? `R$${product.basePrice}` : `R$${product.price}`}
                  </span>
                </div>
              </div>
            </div>
          ))}
        </div>

        {/* Product Modal */}
        {selectedProduct && (
          <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
            <div className="bg-white rounded-lg p-6 max-w-md w-full space-y-4">
              <button 
                onClick={() => setSelectedProduct(null)}
                className="absolute top-2 right-2 text-gray-500 hover:text-gray-700"
              >
                &times;
              </button>
              <h2 className="text-xl font-semibold">{selectedProduct.name}</h2>
              <div className="flex justify-center">
                {selectedProduct.images.length > 1 ? (
                  <div className="flex overflow-x-auto snap-x w-full">
                    {selectedProduct.images.map((img, index) => (
                      <img
                        key={index}
                        src={`https://placehold.co/400x300/${selectedProduct.colorOptions ? selectedProduct.colorOptions[index % selectedProduct.colorOptions.length].toLowerCase().replace(' ', '') : 'blue'}/FFFFFF.png?text=${selectedProduct.name}`}
                        alt={selectedProduct.name}
                        className="w-40 h-40 object-cover snap-center"
                      />
                    ))}
                  </div>
                ) : (
                  <img
                    src={`https://placehold.co/400x300/${selectedProduct.color || 'blue'}/FFFFFF.png?text=${selectedProduct.name}`}
                    alt={selectedProduct.name}
                    className="w-40 h-40 object-cover"
                  />
                )}
              </div>
              <div className="space-y-2">
                {selectedProduct.weightOptions && (
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Peso:</label>
                    <select className="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                      {selectedProduct.weightOptions.map(option => (
                        <option key={option.value} value={option.value}>
                          {option.value} - R${option.price}
                        </option>
                      ))}
                    </select>
                  </div>
                )}
                {selectedProduct.scentOptions && (
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Essência:</label>
                    <select className="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                      {selectedProduct.scentOptions.map(scent => (
                        <option key={scent} value={scent}>
                          {scent}
                        </option>
                      ))}
                    </select>
                  </div>
                )}
                {selectedProduct.colorOptions && (
                  <div>
                    <label className="block text-sm font-medium text-gray-700">Cor:</label>
                    <select className="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                      {selectedProduct.colorOptions.map(color => (
                        <option key={color} value={color}>
                          {color}
                        </option>
                      ))}
                    </select>
                  </div>
                )}
                <div className="flex items-center space-x-2">
                  <label className="block text-sm font-medium text-gray-700">Quantidade:</label>
                  <input 
                    type="number" 
                    min="1"
                    className="mt-1 block w-20 border-gray-300 rounded-md shadow-sm"
                  />
                </div>
                <button className="w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition">
                  Adicionar ao Carrinho
                </button>
              </div>
            </div>
          </div>
        )}

        {/* Cart Sidebar */}
        <div className="fixed bottom-0 right-0 bg-white w-full md:w-96 h-64 md:h-screen border-t md:border-l border-gray-200 p-4">
          <h3 className="font-semibold text-lg text-blue-800 mb-4">Carrinho</h3>
          {cart.length === 0 ? (
            <p className="text-gray-600">Seu carrinho está vazio</p>
          ) : (
            <div className="space-y-2 overflow-y-auto h-40">
              {cart.map(item => (
                <div key={item.id} className="flex justify-between items-center">
                  <div>
                    <p className="font-medium">{item.name}</p>
                    <p className="text-sm text-gray-600">Qtd: {item.quantity}</p>
                  </div>
                  <div className="text-right">
                    <p className="font-semibold">
                      {item.id === 4 
                        ? (cart.filter(i => i.id === 4).reduce((sum, i) => sum + i.quantity, 0) >= 2 
                          ? `R$${item.discountPrice * item.quantity}` 
                          : `R$${item.basePrice * item.quantity}`)
                        : `R$${item.price * item.quantity}`}
                    </p>
                    <button className="text-xs text-red-500 hover:text-red-700">
                      Remover
                    </button>
                  </div>
                </div>
              ))}
            </div>
          )}
          <div className="mt-4">
            <p className="font-bold text-blue-800">Total: R${calculateTotal()}</p>
            <a 
              href={`https://wa.me/5547991880797?text=${encodeURIComponent(generateWhatsAppMessage())}`}
              target="_blank"
              rel="noopener noreferrer"
              className="w-full bg-green-500 text-white py-2 rounded-md block text-center hover:bg-green-600 transition mt-4"
            >
              Enviar Pedido via WhatsApp
            </a>
            <button 
              onClick={() => setCart([])}
              className="w-full bg-red-500 text-white py-2 rounded-md block text-center hover:bg-red-600 transition mt-2"
            >
              Limpar Carrinho
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
```
